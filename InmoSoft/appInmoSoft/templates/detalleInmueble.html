{% extends "index.html" %}
{% block encabezado %}
    {% include "encabezado.html" %}
{%endblock %}
{% block contenido %}
<div class="container">
    <div class="row">
        <div class="d-flex justify-content-center align-items-center vh-80">
            <div class="bg-white p-5 rounded-5 shadow mt-3 bg-opacity-75" style="width: 45rem">
                <h3 class="text-center">{{proyecto.nombre}}</h3>
                <div class="">
                    <img src="/media/{{proyecto.foto}}"
                        class="card-img-top imgPrincipal" alt="...">
                </div><br>
                <div class="row" id= "carrousel">
                    <div id="carouselExampleDark" class="carousel slide">
                        <div class="carousel-indicators" id="indicadores">
                            
                        </div>
                        <div class="carousel-inner" id="fotosInmueble">
                          
            
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Next</span>
                        </button>
                      </div>
                  </div><br>

                <h4 class="bg-bold">Sobre el Proyecto</h4>
                <div class="form-group row">
                    <div class="mt-3 col-lg-6">
                        <label for="txtValorVivienda" class="fw-bold">Valor de Vivienda:</label>
                        <input type="text" class="form-control" id="txtValorVivienda" placeholder="Desde {{proyecto.precio}}" name="txtValorVivienda" disabled>
                    </div>
                    <div class="mt-3 col-lg-6">
                        <label for="txtSeparacion" class="fw-bold">Separacion:</label>
                        <input type="text" class="form-control" id="txtSeparacion" placeholder="$ {{proyecto.costoSeparacion}}" name="txtSeparacion" disabled>
                    </div>
                    <div class="mt-3 col-lg-6">
                        <label for="txtTipoParqueadero"class="fw-bold">Tipo de parqueadero:</label>
                        <input type="text" class="form-control" id="txtTipoParqueadero" placeholder="{{proyecto.parqueadero}}" name="txtTipoParqueadero" disabled>
                    </div>
                    <div class="mt-3 col-lg-6">
                        <label for="txtAreaConstruida"class="fw-bold">Area construida:</label>
                        <input type="text" class="form-control" id="txtAreaConstruida" placeholder="{{proyecto.areaConstruida}}M2" name="txtAreaConstruida" disabled>
                    </div>
                    <div class="mt-3 col-lg-6">
                        <label for="txtNumeroTorresoManzana" class="fw-bold">Número de {{proyecto.division}}:</label>
                        <input type="text" class="form-control" id="txtNumeroTorresoManzana" placeholder="{{proyecto.numdivision}}" name="txtNumeroTorresoManzana" disabled>
                    </div>

                    <div class="mt-3 col-lg-6">
                        <label for="txtNumImuebles" class="fw-bold">Número de imuebles:</label>
                        <input type="text" class="form-control" id="txtNumImuebles" placeholder="{{proyecto.numInmuebles}}" name="txtNumImuebles" disabled>
                    </div>
                    <div class="d-flex justify-content-around mt-2">
                        <h5 class="bg-bold">Tipo de Proyecto: {{proyecto.tipo}} </h5> 
                        <h5 class="bg-bold">Ubicación: {{proyecto.ubicacion}}</h5>
                    </div>
                    <div class="mt-3 col-lg-12">
                        <span class="fw-bold">Descripción</span>
                        <p>{{proyecto.descripcion}} Ubicado en {{proyecto.direccion}}</p>
                    </div>
                </div>
                <div class="row d-flex justify-content-end">
                    <div class="col-lg-12 d-flex justify-content-end align-items-center">
                        <span class="mx-1"><b>¿Estas interesado en este proyecto?</b> Envianos tus datos para contactarte</span>
                        <a  id="btnCotizar" data-bs-toggle="modal" data-bs-target="#CotizarModal" class="btn btn-outline-secondary"><i class="bi bi-envelope"></i> Cotizar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="CotizarModal" data-bs-backdrop="static"  tabindex="-1" aria-labelledby="CotizarModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered"> <!-- Add modal-xl class here -->
        <div class="modal-content">
            <div class="modal-header d-flex justify-content-center bg-body-secondary bg-opacity-75">
                <h3>Cotizar Proyecto</h3>
            </div>
                <div class="modal-body">
                    <div class="row">
                        <h4 class="text-center">Ingrese sus datos</h4>
                    </div>
                  <form action="/cotizarProyecto/{{proyecto.id}}/" enctype="multipart/form-data" method="post" id="formularioDatos1"> 
                    {% csrf_token %}
                    <div class="row">
                        <div class="mt-3 col-lg-12">
                            <div>
                                <label for="txtCedula"class="fw-bold">Cedula:</label> <br>
                                <input class="form-control" type="number" placeholder="Numero de indentificacion" name="txtCedula" id="txtCedula" required/>
                            </div>
                        </div>   
                        <div class="mt-3 col-lg-12">
                            <div>
                                <label for="txtNombre"class="fw-bold">Nombres:</label> <br>
                                <input class="form-control" type="text" placeholder="Nombre(s)" name="txtNombre" id="txtNombre" required/>
                            </div>
                        </div>
                        <div class="mt-3 col-lg-12">
                            <div>
                                <label for="txtApellido"class="fw-bold">Apellidos:</label> <br>
                                <input class="form-control" type="text" placeholder="Apellido(s)" name="txtApellido" id="txtApellido" required/>
                            </div>
                        </div>
                        <div class="mt-3 col-lg-12">
                            <div>
                                <label for="txtCelular"class="fw-bold">Numero de celular:</label> <br>
                                <input class="form-control" type="number" placeholder="Numero de celular" name="txtCelular" id="txtCelular" required/>
                            </div>
                        </div>
                        <div class="mt-3 col-lg-12">
                            <div>
                                <label for="txtCorreo" class="fw-bold">Correo electronico:</label> <br>
                                <input class="form-control" type="email" placeholder="Correo electronico" name="txtCorreo" id="txtCorreo" required/>
                            </div>
                        </div>
                        <div class="mt-3 col-lg-12">
                            <p class="lead  fs-6 fst-italic fw-light">"Le solicitamos ciertos datos personales con el único propósito de procesar su solicitud y contactarnos con usted. Queremos asegurarle que sus datos serán tratados con la máxima confidencialidad y seguridad. Cumplimos con todas las leyes de privacidad de datos y hemos implementado medidas para proteger sus datos"</p>
                        </div>
                    </div>
                    <hr>
                    <div class="row m-3">
                        <div class="col-12 text-center">
                            <a type="button" data-bs-dismiss="modal" class="btn btn-outline-danger">Cancelar</a>
                            <button type="submit" class="btn btn-outline-secondary" id="modificarBtn" ><i class="bi bi-envelope"></i> Enviar</button>
                        </div>
                    </div>
                  </form>
                </div> 
        </div>
    </div>
</div>
{% if mensaje %}
{% if estado %}
  <script>
    Swal.fire({
      title: 'Cotizar Proyecto',
      text: '{{mensaje}}',
      icon: 'success',               
      confirmButtonColor: '#3085d6',             
      confirmButtonText: 'Aceptar'
  }).then((result) => {
      if (result.isConfirmed) {
        url= "/vistaDetalleProyecto/"+{{id}}
        location.assign(url)
      }
  })
</script>
{% else %}
<script>
  Swal.fire({
    title: 'Cotizar Proyecto',
    text: '{{mensaje}}',
    icon: 'warning',               
    confirmButtonColor: '#3085d6',             
    confirmButtonText: 'Aceptar'
}).then((result) => {
    if (result.isConfirmed) {
        url= "/vistaDetalleProyecto/"+{{id}}
        location.assign(url)
    }
})
</script>
{% endif %}
{% endif %}
{% load static%}
<link rel="stylesheet" href="{% static 'css/body.css' %}">
<script src="{% static '../static/js/proyectoDetal.js' %}"></script>
<script src="{% static '../static/js/buscador.js' %}"></script>
<script>
    readCarrusel({{proyecto.id}})
</script>
{%endblock %}
{% block piePagina %}
    {% include "piePagina.html" %}
{%endblock %}