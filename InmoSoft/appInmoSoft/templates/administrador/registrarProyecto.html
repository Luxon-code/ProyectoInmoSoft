{% extends "index.html" %}
{% block encabezado %}
    {% include "administrador/encabezado.html" %}
{%endblock %}
{% block contenido %}
<div class="row d-flex justify-content-center align-items-center" style="margin-top:6rem; margin-bottom: 6rem;">
    <div class="bg-white p-5 rounded-5 text-dark shadow bg-opacity-75 w-100">
        <h2 class="text-center">Registrar Proyecto</h2>
      <form action="" enctype="multipart/form-data"  method="post" class="needs-validation" novalidate> 
        {% csrf_token %}
        <div class="row">     
            <div class="mt-3 col-lg-4">
                <div>
                    <label for="txtNombreProyecto">Nombre del proyecto:</label> <br>
                    <input class="form-control" type="text" placeholder="Nombre de proyecto" required /><br>
                </div>
            </div>
            <div class="mt-3 col-lg-4">
                <div>
                    <label for="txtFiducia">Fiducia:</label> <br>
                    <select name="txtFiducia" id="txtFiducia" class="form-select"
                        aria-label="Default select example">
                        <option value="">Seleccione</option>
                        <option value="">Bancolombia</option>
                        <option value="">BBVA</option>
                        <option value="">Banco de Bogota</option>
                        <option value="">Banco Caja Social</option>
                        <option value="">Grupo Bancolombia</option>
                        <option value="">Davivienda</option>
                        <option value="">Banco de Occidente</option>

                    </select>
                </div>
            </div>
            <div class="mt-3 col-lg-4">
                <div>
                    <label for="">Numero de Torres o manzanas:</label>
                    <input type="number" class="form-control" placeholder="Numero de Torres o manzanas" required>
                </div>
            </div>
            <div class="mt-3 col-lg-4">
                <div>
                    <label for="">Numero de apartamentos o casas:</label>
                    <input type="number" class="form-control" placeholder="Numero de apartamentos o casas" required>
                </div>
            </div>
            <div class="mt-3 col-lg-4">
                <div>
                    <label for="cbObraentregable">Obra entregable:</label> <br>
                    <select name="cbObraentregable" id="cbObraentregable" class="form-select"
                        aria-label="Default select example">
                        <option value="">Selecione</option>
                        {% for obra in entregaObra %}
                            <option value="{{obra.0}}">{{obra.0}}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="mt-3 col-lg-4">
                <div>
                    <label for="cbParqueadero">Parqueadero:</label> <br>
                    <select name="cbParqueadero" id="cbParqueadero" class="form-select"
                        aria-label="Default select example">
                        <option value="">Selecione</option>
                        {% for parqueadero in parqueaderos %}
                            <option value="{{parqueadero.0}}">{{parqueadero.0}}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="mt-3 col-lg-6">
                <div>
                    <label for="fileFoto" class="fw-bold">Imagen del Proyecto: </label>
                    <input type="file" name="fileFoto" class="form-control" id="fileFoto" placeholder="Foto">
                    <div class="text-center m-2 imgPerfil2">
                        <img src="../media/simboloPNG.png" class="" alt="img-proyecto" style="width:10rem;height: 10rem;">
                    </div>
                </div>
            </div>
            <div class="mt-3 col-lg-6">
                <div>
                    <label for="txtDescripcion">Descripcion del Proyecto:</label>
                    <textarea name="txtDescripcion" id="txtDescripcion" cols="30" rows="8"
                        class="form-control"> </textarea>
                </div>
            </div>
        </div>
        <hr>
        <div class="row">
            <h3 class="text-center">Ubicacion</h3>
        </div>
        <div class="row">
            <div class="mt-3 col-lg-4">
                <div>
                    <label for="cbDepartamento">Departamento:</label> <br>
                    <select name="cbDepartamento" id="cbDepartamento" class="form-select"
                     onchange="actualizarMunicipios()">
                        <option value="">Selecione</option>
                    </select>
                </div>
            </div>
            <div class="mt-3 col-lg-4">
                <div>
                    <label for="cbMunicipio">Municipio:</label> <br>
                    <select name="cbMunicipio" id="cbMunicipio" class="form-select"
                        aria-label="Default select example">
                        <option value="">Seleccione</option>
                    </select>
                </div>
            </div>
            <div class="mt-3 col-lg-4">
                <div>
                    <label for="txtDireccion">Direccion:</label>
                    <input type="text" class="form-control" placeholder="Direccion" required>
                </div>
            </div>
        </div>
        <div class="row m-3">
            <div class="col-12 text-center">
                <button type="button" class="btn btn-outline-danger">Cancelar</button>
                <button type="button" class="btn btn-outline-secondary">Siguiente</button>
            </div>
        </div>
      </form>
    </div> 
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
      function previewImage(event) {
          var input = event.target;
          var imgPerfil = document.querySelector('.imgPerfil2 img');
  
          if (input.files && input.files[0]) {
              var reader = new FileReader();
  
              reader.onload = function(e) {
                  imgPerfil.src = e.target.result;
              }
  
              reader.readAsDataURL(input.files[0]);
          } else {
              // Imagen por defecto en caso de no seleccionar ninguna
              imgPerfil.src = '../media/simboloPNG.png';
          }
      }
  
      var fileInput = document.getElementById('fileFoto');
      fileInput.addEventListener('change', previewImage);
  });
</script>
{% load static%}
<link rel="stylesheet" href="{% static 'css/body.css' %}">
<script src="{% static '../static/js/proyectos.js' %}"></script>
{%endblock %}
{% block piePagina %}
    {% include "piePagina.html" %}
{%endblock %}